# توثيق بايثون 3.13

هذا التوثيق مخصص لشرح كل ما هو جديد ومثير في Python 3.13، بناءً على فيديو يوتيوب. يغطي التوثيق الأكواد والأوامر والروابط والأمثلة بالترتيب لتسهيل تطبيق الخطوات.

## القسم الأول: مترجم تفاعلي مُحسّن (REPL)

- **المظهر:** أصبح موجه أوامر REPL ملونًا لتحسين قراءة الأكواد.
- **التعامل مع الأكواد متعددة الأسطر:**  استدعاء وتعديل وتنفيذ الكود متعدد الأسطر أصبح أسهل بكثير باستخدام أسهم لوحة المفاتيح.
- **لصق الأكواد:** تم حل مشكلة الفراغات والأسطر الفارغة عند نسخ ولصق الأكواد في REPL. سيتم التعامل مع الكود المنسوخ كوحدة واحدة وتنفيذه بسلاسة.

## القسم الثاني: رسائل خطأ أوضح وأكثر فائدة

- **ألوان مميزة:** تعرض رسائل الخطأ بألوان لتسليط الضوء على مواضع الخلل.
- **إيقاف الألوان:** يمكن إيقاف الألوان من خلال ضبط متغير البيئة `PYTHON_COLORS = 0`.
- **اقتراحات تصحيح:** تقدم بايثون 3.13 اقتراحات لحل المشاكل عند حدوث خطأ، مثل اقتراح التصحیح عند كتابة مُعلمة دالة بشكل خاطئ.

## القسم الثالث: التخلص من قفل المُفسّر العام (GIL) والانتقال إلى تعدد الخيوط الحر

- **بايثون بدون GIL (تجريبي):** تم إدخال نسخة تجريبية من بايثون بدون GIL لتحسين الأداء في أنظمة المعالجات متعددة النواة.
- **تثبيت النسخة بدون GIL:**
    - **الطريقة الأولى (من المصدر):** تحميل الشيفرة المصدرية للغة بايثون وإعادة بنائها مع خيار `no GIL`.
    - **الطريقة الثانية (أثناء التثبيت):**  اختيار "customize installation" ثم “next” وتفعيل خيار “download the free thredded binaries” أثناء تثبيت بايثون 3.13.
- **التحقق من التثبيت:** استخدام الأمر `py -0p` في سطر الأوامر.
- **تشغيل النسخة بدون GIL:**  `py 3.13t` (حيث `3.13t` هو اسم النسخة بدون GIL).
- **مثال على الأداء:** تجربة كود يدعم المعالجة المتعددة النواة  مع كل من النسخة الرسمية والنسخة بدون GIL لمقارنة الأداء.
- **ملاحظات:** النسخة بدون GIL تجريبية وغير مستقرة وغير مُوصى بها للاستخدام في بيئات الإنتاج حاليًا.

## القسم الرابع: مُترجم JIT تجريبي

- **مُترجم JIT:**  يحسن أداء الكود عن طريق ترجمة أجزاء منه إلى لغة الآلة أثناء التشغيل.  لا يزال تجريبيًا.
- **متطلبات البناء (ويندوز):**
    - Visual Studio 2019 أو أحدث مع حزمة تطوير  ++C و Windows SDK 10.0.18362.0 أو أحدث.
    - حزمة لغة السي مع مترجمها LLVM/Clang 19 (إضافة مسار مجلد `bin` إلى متغيرات البيئة `path`).
    - Git.
- **خطوات التثبيت:**
    1. تحميل الكود المصدري: `git clone https://github.com/python/cpython.git`
    2. بدء عملية البناء: `PCbuild\build.bat --experimental-jit` (داخل مجلد `cpython`).
- **تجربة النسخة:**  إضافة مسار مجلد `amd64` (داخل مجلد `PCbuild`) إلى VS Code كمترجم.

## القسم الخامس: تحسينات في الكتابة الساكنة

- **TypeIs:**  ميزة جديدة لتضييق أنواع البيانات، تُعزز دقة فحص الأنواع وتوفر شيفرات أكثر أمانًا. بديل قوي لـ TypeGuard.
- **مثال:** 
```python
from typing import Union, TypeIs

def is_valid_number(value: Union[str, int]) -> TypeIs[int]:
    # ... (كود الدالة)

def calculate_inverse(value: Union[str, int]) -> float:
    # ... (كود الدالة)

print(calculate_inverse("10"))  # يُخرج 0.1
print(calculate_inverse(20))  # يُخرج 0.05
print(calculate_inverse("hello"))  # يُرفع TypeError
content_copy
Use code with caution.
Markdown
القسم السادس: ميزات أخرى رائعة في بايثون 3.13

واجهة سطر أوامر لوحدة random: python -m random متبوعًا بالخيارات.

دالة copy.replace(): لتعديل الكائنات غير القابلة للتغيير.

تحسينات في pathlib.glob(): دعم ** و glob.translate().

إزالة المسافات الزائدة من سلاسل التوثيق.

دعم iOS و Android (قيد التطوير).

تمديد دورة حياة الإصدارات.

تحسينات في argparse و locals() وإزالة الوحدات المُهمَلة.

الخاتمة

بايثون 3.13 مليئة بالتحسينات والميزات الجديدة!

ملاحظة: سيتم وضع صفحة GitHub تحتوي على شرح مفصل مع الروابط والأكواد.

content_copy
Use code with caution.
